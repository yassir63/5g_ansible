amf:
  config:
    plmnSupportList:
      - plmnId:
          mcc: "{{ plmn.mcc }}"
          mnc: "{{ plmn.mnc }}"
        sNssaiList:
{% for slice in slices %}
          - sst: {{ slice.sst }}
{% if slice.sd != "EMPTY" %}
            sd: "{{ slice.sd }}"
{% endif %}
{% endfor %}

smf:
  config:
    snssaiInfos:
{% for slice in slices %}
      - sNssai:
          sst: {{ slice.sst }}
{% if slice.sd != "EMPTY" %}
          sd: "{{ slice.sd }}"
{% endif %}
        dnnInfos:
          - dnn: "{{ slice.dnn }}"
            qosProfile:
              5qi: {{ slice.qos.five_qi }}
              arp:
                priorityLevel: {{ slice.qos.arp.priority_level }}
                preemptCap: "{{ slice.qos.arp.preempt_cap }}"
                preemptVuln: "{{ slice.qos.arp.preempt_vuln }}"
            sessionAmbr:
              uplink: "{{ slice.bandwidth.uplink }}"
              downlink: "{{ slice.bandwidth.downlink }}"
{% endfor %}
